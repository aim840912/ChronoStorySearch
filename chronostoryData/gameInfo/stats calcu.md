## 裝備浮動範圍

首先我們要先知道**原始上下限 O**
`O = 裝備等級/10 (套服的話要再x2)`

接著浮動的算式是 `AxBxC`
`A = O 或 O/2 或 O/4 或 Ox5 (根據裝備的屬性種類和數量)`
`B = -1 或 0 或 1 (每個都是33%機率)`
`C = 1/100W ~ 100W/100W (把0到1平均成100萬個小數)`

**注意如果 AxBxC 會得到小數的話 一律四捨五入**
**負浮動不會把屬性扣到負數**

### A 如何定義

-   主屬 (力量 敏捷 幸運 智力)
    如果一件裝備只會有一種主屬
    那 `A = O`
    如果裝備有兩種主屬
    那每一個主屬各自的`A = O/2`
    以此類推

浮動範圍會根據有幾種主屬而被平均掉
除了主屬其他都不受有多少種屬性而會分攤原始上下限

-   雙攻 速度
    `A = O/2`

-   命中 迴避
    `A = O`

-   跳躍
    `A = O/4`

-   HP MP 雙防
    `A = Ox5`

### 官方例子

LV60 基礎 1 敏 3 幸 39 防帽子

`O = 60/10 = 6`
敏捷和幸運各自的`A = 6/2 = 3`
防禦的`A = 6x5 = 30`

所以理論上
敏捷浮動範圍 = -3 ~ +3
幸運浮動範圍 = -3 ~ +3
防禦浮動範圍 = -30 ~ +30

但如果要去算出頂屬的機率的話
以敏捷為例 只要`AxBxC >= 2.5` 都會得到頂浮動 3
`A = 3`
`B = 1 (33%)`
`C = 大約 0.83 ~ 1 (約17%)`
因此敏捷出頂浮動的機率大約是`33%x17% = 5.61%`
幸運同樣是這個機率 因此敏捷幸運同時出頂浮動的機率約為`5.61%x5.61% = 0.315%`

### A 剛好是.5 結尾

在這套 AxBxC 的公式中 如果 A 剛好是 0.5 1.5 2.5 ...
那麼頂浮動的機率會是最難的

例如 70 等武器的雙攻
`O = 7`
`A = O/2 = 3.5`
我們知道理論上雙攻頂浮動會是`3.5x1x1 = 3.5 => 4 (四捨五入)`
`B = 1 的機率是33%`
然而`C只能是1 因此是百萬分之一的機率 (0.0001%)`
因此頂浮動雙攻的機率是`33%x0.0001% = 0.000033%`
三百萬分之一的機率<:Pepehands:1329141020100792330>

### A 如果是整數 A 愈大 出頂屬的機率愈低

假設 100 等的裝備 單主屬
只要`AxBxC >= 9.5`就能得到頂浮動 10 屬
然而這樣`C必須是0.95 ~ 1` 只有 5%的機率
配上`B = 1` 33%機率
出頂屬的機率為`33%x5% = 1.65%`
所以我們可以得知

-   愈高等的裝備 出頂浮動的機率也會愈小 (因為 O 增加 A 也會增加)
-   套服出頂屬的機率比同等級上下衣加起來高 以 100 等單主屬為例子
    -   套服出頂屬的機率為`33%x2.5% = 0.825%` 頂浮動 20
    -   上下衣各自頂屬機率為`33%x5% = 1.65%` 頂浮動 10 上下加起來頂浮動 20 的機率為`1.65%x1.65% = 0.027225%`
