The original prompt is from: https://www.dzombak.com/blog/2025/08/getting-good-results-from-claude-code/

# é–‹ç™¼æŒ‡å—

> **é€šç”¨æ¥æ¡ˆå°ˆæ¡ˆé–‹ç™¼è¦ç¯„** - é©ç”¨æ–¼å‰ç«¯ã€å¾Œç«¯ã€å…¨ç«¯å°ˆæ¡ˆ

## ğŸ“‘ ç›®éŒ„

-   [ğŸ—ºï¸ å¦‚ä½•ä½¿ç”¨æœ¬æŒ‡å—](#ï¸-å¦‚ä½•ä½¿ç”¨æœ¬æŒ‡å—)
-   [ğŸš€ å¿«é€Ÿé–‹å§‹](#-å¿«é€Ÿé–‹å§‹)
-   [é–‹ç™¼ç†å¿µ](#é–‹ç™¼ç†å¿µ)
-   [ğŸ¤– Claude è¡Œç‚ºæº–å‰‡](#-claude-è¡Œç‚ºæº–å‰‡)
-   [ğŸ“‘ å°ˆæ¡ˆé¡å‹å¿«é€ŸæŒ‡å—](#-å°ˆæ¡ˆé¡å‹å¿«é€ŸæŒ‡å—)
-   [é–‹ç™¼æµç¨‹](#é–‹ç™¼æµç¨‹)
-   [ç¨‹å¼ç¢¼å“è³ªæ¨™æº–](#ç¨‹å¼ç¢¼å“è³ªæ¨™æº–)
-   [ğŸ¨ UI/UX è¨­è¨ˆè¦ç¯„](#-uiux-è¨­è¨ˆè¦ç¯„)
-   [æ±ºç­–èˆ‡å­¸ç¿’](#æ±ºç­–èˆ‡å­¸ç¿’)
-   [âœ… å“è³ªæª¢æŸ¥æ¸…å–®](#-å“è³ªæª¢æŸ¥æ¸…å–®)
-   [ğŸ“š åƒè€ƒè³‡æº](#-åƒè€ƒè³‡æº)
-   [é™„éŒ„](#é™„éŒ„)

---

## ğŸ—ºï¸ å¦‚ä½•ä½¿ç”¨æœ¬æŒ‡å—

### ğŸ“– é¦–æ¬¡é–±è®€ï¼ˆå¿…è®€ 20 åˆ†é˜ï¼‰

1. **[å¿«é€Ÿé–‹å§‹](#-å¿«é€Ÿé–‹å§‹)** - 5 åˆ†é˜äº†è§£æ ¸å¿ƒåŸå‰‡èˆ‡å¸¸ç”¨æŒ‡ä»¤
2. **[é–‹ç™¼ç†å¿µ](#é–‹ç™¼ç†å¿µ)** - 10 åˆ†é˜ç†è§£å°ˆæ¡ˆå“²å­¸
3. **[Claude è¡Œç‚ºæº–å‰‡](#-claude-è¡Œç‚ºæº–å‰‡)** - 5 åˆ†é˜æŒæ¡å·¥ä½œæµç¨‹

### ğŸ’¼ æ—¥å¸¸é–‹ç™¼ï¼ˆåƒè€ƒï¼‰

-   **[é–‹ç™¼æµç¨‹](#é–‹ç™¼æµç¨‹)** - é–‹ç™¼å‰æª¢æŸ¥æ¸…å–®ã€è¦åŠƒèˆ‡å¯¦ä½œ
-   **[UI/UX è¨­è¨ˆè¦ç¯„](#-uiux-è¨­è¨ˆè¦ç¯„)** - æ¨£å¼è¦ç¯„èˆ‡åœ–ç¤ºä½¿ç”¨
-   **[å“è³ªæª¢æŸ¥æ¸…å–®](#-å“è³ªæª¢æŸ¥æ¸…å–®)** - æäº¤å‰å¿…åšæª¢æŸ¥

### ğŸ“š æ·±å…¥åƒè€ƒï¼ˆé¸è®€ï¼‰

-   **[ç¨‹å¼ç¢¼å“è³ªæ¨™æº–](#ç¨‹å¼ç¢¼å“è³ªæ¨™æº–)** - æ¶æ§‹åŸå‰‡ã€ä¾è³´ç®¡ç†ã€æŠ€è¡“å‚µ
-   **[æ±ºç­–èˆ‡å­¸ç¿’](#æ±ºç­–èˆ‡å­¸ç¿’)** - æ±ºç­–æ¡†æ¶èˆ‡å­¸ç¿’ç­–ç•¥
-   **[é™„éŒ„](#é™„éŒ„)** - æ–°å°ˆæ¡ˆåˆå§‹åŒ–ã€API è¦ç¯„ã€ç¶­è­·ä»»å‹™

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### âš¡ 5 ç§’é€ŸæŸ¥

```bash
# é–‹ç™¼å‰å¿…åš
npm run type-check && npm run lint

# å¸¸ç”¨æŒ‡ä»¤
npm run dev          # å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run type-check   # TypeScript æª¢æŸ¥
npm run lint         # ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥
npm run build        # å»ºç½®é©—è­‰
```

### ğŸ¯ æ ¸å¿ƒåŸå‰‡ï¼ˆ5 æ¢ï¼‰

1. **ä½¿ç”¨ç¹é«”ä¸­æ–‡** - æ‰€æœ‰æºé€šå‡ä½¿ç”¨ç¹é«”ä¸­æ–‡
2. **é¿å…ä¸å¿…è¦åœ°å»ºç«‹æª”æ¡ˆ** - å„ªå…ˆç·¨è¼¯ç¾æœ‰æª”æ¡ˆ
3. **åŸ·è¡Œé–‹ç™¼å‰æª¢æŸ¥æ¸…å–®** - ç¨‹å¼ç¢¼é‡ç”¨ã€ä¾è³´æª¢æŸ¥ã€æ•ˆèƒ½å½±éŸ¿
4. **å°è¤‡é›œä»»å‹™ä½¿ç”¨ TodoWrite** - å®Œæˆå¾Œç«‹å³æ¨™è¨˜ completed
5. **YAGNI åŸå‰‡** - ä¸è¦éåº¦è¨­è¨ˆæˆ–å·¥ç¨‹åŒ–

### ğŸ“¦ å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥å¡

```bash
# ä¾è³´ç®¡ç†
npm ls | grep package-name        # æª¢æŸ¥æ˜¯å¦å·²æœ‰é¡ä¼¼å¥—ä»¶
npx depcheck                      # æª¢æŸ¥æœªä½¿ç”¨ä¾è³´

# å“è³ªæª¢æŸ¥
npm run build                     # é©—è­‰å»ºç½®æˆåŠŸ
npm audit                         # å®‰å…¨æ€§æª¢æŸ¥

# æª¢æŸ¥ç¨‹å¼ç¢¼é‡ç”¨
grep -r "function.*åç¨±" src/
grep -r "class.*åç¨±" src/
grep -r "const.*åç¨±" src/

# æ¸…ç†å»ºç½®
rm -rf .next node_modules/.cache
```

### âš ï¸ æŠ€è¡“å‚µè­¦å‘Šä¿¡è™Ÿ

```bash
ğŸ”´ ç›¸åŒé‚è¼¯å‡ºç¾ 3+ æ¬¡              â†’ æŠ½å–ç‚ºå…±ç”¨å‡½æ•¸
ğŸ”´ å…ƒä»¶ > 200 è¡Œ / å‡½æ•¸ > 30 è¡Œ    â†’ æ‹†åˆ†æˆ–ç°¡åŒ–
ğŸ”´ å»ºç½®æ™‚é–“å¢åŠ é¡¯è‘—                â†’ èª¿æŸ¥ä¸¦å„ªåŒ–
   - å°å‹å°ˆæ¡ˆï¼ˆ< 10 æª”æ¡ˆï¼‰ï¼š> 30 ç§’
   - ä¸­å‹å°ˆæ¡ˆï¼ˆ10-100 æª”æ¡ˆï¼‰ï¼š> 2 åˆ†é˜
   - å¤§å‹å°ˆæ¡ˆï¼ˆ> 100 æª”æ¡ˆï¼‰ï¼š> 5 åˆ†é˜
```

---

## é–‹ç™¼ç†å¿µ

### æ ¸å¿ƒä¿¡å¿µ

-   **æ¼¸é€²å¼é€²å±•å„ªæ–¼å¤§çˆ†ç‚¸å¼æ”¹è®Š** - å°çš„è®Šæ›´èƒ½ç·¨è­¯ä¸¦é€šéæ¸¬è©¦
-   **å¾ç¾æœ‰ç¨‹å¼ç¢¼ä¸­å­¸ç¿’** - åœ¨å¯¦ä½œå‰å…ˆç ”ç©¶å’Œè¦åŠƒ
-   **å¯¦ç”¨ä¸»ç¾©å„ªæ–¼æ•™æ¢ä¸»ç¾©** - é©æ‡‰å°ˆæ¡ˆç¾å¯¦
-   **æ¸…æ™°æ„åœ–å„ªæ–¼å·§å¦™ç¨‹å¼ç¢¼** - ä¿æŒç„¡è¶£å’Œæ˜é¡¯
-   **å–®ä¸€è·è²¬åŸå‰‡** - æ¯å€‹å‡½æ•¸/é¡åˆ¥å–®ä¸€è·è²¬ï¼Œé¿å…éæ—©æŠ½è±¡åŒ–
-   **é«˜ä¿¡å¿ƒåŸå‰‡** - ä¸ç¢ºå®šæ™‚èªªã€Œä¸çŸ¥é“ã€ï¼Œå„ªå…ˆç ”ç©¶å’Œé©—è­‰è€ŒéçŒœæ¸¬
-   **YAGNI åŸå‰‡ï¼ˆYou Aren't Gonna Need Itï¼‰** - ä¸è¦éåº¦è¨­è¨ˆæˆ–å·¥ç¨‹åŒ–
    -   åªå¯¦ä½œç•¶å‰éœ€è¦çš„åŠŸèƒ½ï¼Œä¸ç‚ºã€Œå¯èƒ½ã€çš„æœªä¾†éœ€æ±‚ç·¨å¯«ç¨‹å¼ç¢¼
    -   é¿å…éæ—©å„ªåŒ–ã€éåº¦æŠ½è±¡ã€éåº¦é€šç”¨åŒ–
    -   å…ˆè®“å®ƒå·¥ä½œï¼Œå†è®“å®ƒæ›´å¥½

### æ°¸ä¸ èˆ‡ å§‹çµ‚

**æ°¸ä¸**ï¼š

-   ä½¿ç”¨ `--no-verify` ç¹éæäº¤é‰¤å­
-   åœç”¨æ¸¬è©¦è€Œä¸æ˜¯ä¿®å¾©å®ƒå€‘
-   æäº¤ä¸èƒ½ç·¨è­¯çš„ç¨‹å¼ç¢¼
-   åšå‡è¨­ - ç”¨ç¾æœ‰ç¨‹å¼ç¢¼é©—è­‰
-   **åœ¨æ²’æœ‰ç†ç”±çš„æƒ…æ³ä¸‹å®‰è£ä¾è³´** - å§‹çµ‚åœ¨æäº¤è¨Šæ¯ä¸­è§£é‡‹åŸå› 
-   **å»ºç«‹é‡è¤‡åŠŸèƒ½** - å…ˆç”¨ grep/æœå°‹æª¢æŸ¥ç¾æœ‰ç¨‹å¼ç¢¼
-   **å¿½ç•¥æ•ˆèƒ½è­¦å‘Š** - è§£æ±ºå¥—ä»¶å¤§å°å’Œå»ºç½®æ™‚é–“å•é¡Œ
-   **éåº¦è¨­è¨ˆã€Œå¯èƒ½ã€éœ€è¦çš„åŠŸèƒ½** - éµå¾ª YAGNI åŸå‰‡

**å§‹çµ‚**ï¼š

-   æ¼¸é€²å¼æäº¤å¯å·¥ä½œçš„ç¨‹å¼ç¢¼
-   éš¨æ™‚æ›´æ–°è¨ˆåŠƒæ–‡ä»¶
-   å¾ç¾æœ‰å¯¦ä½œä¸­å­¸ç¿’
-   3 æ¬¡å˜—è©¦å¤±æ•—å¾Œåœæ­¢ä¸¦é‡æ–°è©•ä¼°
-   **åŸ·è¡Œé–‹ç™¼å‰æª¢æŸ¥æ¸…å–®** - ç¨‹å¼ç¢¼é‡ç”¨ã€ä¾è³´è©•ä¼°ã€æ¶æ§‹ä¸€è‡´æ€§ã€æ•ˆèƒ½å½±éŸ¿
-   **ç›£æ§æŠ€è¡“å‚µä¿¡è™Ÿ** - å»ºç½®æ™‚é–“å¢åŠ ã€TypeScript éŒ¯èª¤ã€ESLint è­¦å‘Šã€é‡è¤‡ç¨‹å¼ç¢¼
-   **å„ªå…ˆé¸æ“‡æœ€ç°¡å–®å¯è¡Œçš„è§£æ±ºæ–¹æ¡ˆ** - å…ˆè®“å®ƒå·¥ä½œï¼Œå†è®“å®ƒæ›´å¥½

---

## ğŸ¤– Claude è¡Œç‚ºæº–å‰‡

**åœ¨é–‹å§‹é–‹ç™¼å‰ï¼Œè«‹å…ˆé–±è®€æ­¤ç« ç¯€**

### åŸ·è¡ŒåŸå‰‡

-   **ç²¾ç¢ºåŸ·è¡Œ** - åªåšè¢«è¦æ±‚çš„äº‹ï¼Œä¸å¤šä¸å°‘
-   **è¬¹æ…å»ºç«‹æª”æ¡ˆ** - åªåœ¨çµ•å°å¿…è¦æ™‚å»ºç«‹æ–°æª”æ¡ˆ
-   **å„ªå…ˆç·¨è¼¯ç¾æœ‰æª”æ¡ˆ** - æ°¸é å„ªå…ˆé¸æ“‡ç·¨è¼¯è€Œéå»ºç«‹
-   **ä¸ä¸»å‹•å»ºç«‹æ–‡æª”** - é™¤éä½¿ç”¨è€…æ˜ç¢ºè¦æ±‚ï¼Œå¦å‰‡ä¸å»ºç«‹ \*.md æˆ– README æª”æ¡ˆ

### Git æäº¤æµç¨‹

**Commit å‰å¿…é ˆè©¢å•**ï¼š

1. å±•ç¤ºè®Šæ›´çš„æª”æ¡ˆåˆ—è¡¨ (`git status`, `git diff --stat`)
2. å±•ç¤ºå®Œæ•´çš„ commit message è‰ç¨¿
3. ç­‰å¾…ä½¿ç”¨è€…æ˜ç¢ºç¢ºèªå¾Œæ‰åŸ·è¡Œ commit
4. ç¢ºèªå¾Œæ‰å¯åŸ·è¡Œ `git add` å’Œ `git commit`

**Push å‰å¿…é ˆè©¢å•**ï¼š

1. è©¢å•ä½¿ç”¨è€…æ˜¯å¦è¦æ¨é€åˆ° remote
2. ç­‰å¾…ä½¿ç”¨è€…æ˜ç¢ºç¢ºèªå¾Œæ‰åŸ·è¡Œ `git push`
3. æ°¸ä¸è‡ªå‹•åŸ·è¡Œ push æ“ä½œ

### TodoWrite ä½¿ç”¨è¦ç¯„

è¤‡é›œå·¥ä½œåˆ†è§£ç‚º 3-5 å€‹éšæ®µï¼Œä½¿ç”¨ TodoWrite å·¥å…·è¿½è¹¤é€²åº¦ï¼š

```typescript
TodoWrite({
	todos: [
		{
			content: "éšæ®µ 1: [å…·é«”ç›®æ¨™]",
			status: "pending",
			activeForm: "åŸ·è¡Œéšæ®µ 1ä¸­",
		},
		{
			content: "éšæ®µ 2: [å…·é«”ç›®æ¨™]",
			status: "pending",
			activeForm: "åŸ·è¡Œéšæ®µ 2ä¸­",
		},
	],
});
```

**é—œéµè¦å‰‡**ï¼š

-   ç‹€æ…‹è½‰æ›ï¼š`pending` â†’ `in_progress` â†’ `completed`
-   åŒä¸€æ™‚é–“åªæœ‰ä¸€å€‹ `in_progress` ä»»å‹™
-   ç«‹å³æ›´æ–°ç‹€æ…‹ï¼ˆé–‹å§‹æ™‚æ¨™è¨˜ in_progressï¼Œå®Œæˆå¾Œç«‹å³æ¨™è¨˜ completedï¼‰
-   åƒ…ç•¶ä»»å‹™å®Œå…¨å®Œæˆæ™‚æ‰æ¨™è¨˜ `completed`
-   é‡åˆ°éŒ¯èª¤æˆ–é˜»å¡æ™‚ä¿æŒ `in_progress`

**ä½•æ™‚ä¸æ¨™è¨˜ç‚º completed**ï¼šæ¸¬è©¦å¤±æ•—ã€å¯¦ä½œéƒ¨åˆ†å®Œæˆã€é‡åˆ°æœªè§£æ±ºéŒ¯èª¤ã€æ‰¾ä¸åˆ°å¿…è¦æª”æ¡ˆæˆ–ä¾è³´ã€è¢«é˜»å¡ç„¡æ³•ç¹¼çºŒæ™‚

> è©³ç´°ç¯„ä¾‹åƒè¦‹ [é™„éŒ„ D - TodoWrite è©³ç´°ç¯„ä¾‹](#é™„éŒ„-d---todowrite-è©³ç´°ç¯„ä¾‹)

---

## ğŸ“‘ å°ˆæ¡ˆé¡å‹å¿«é€ŸæŒ‡å—

### ç´”å‰ç«¯å°ˆæ¡ˆï¼ˆReactã€Next.jsã€Vue ç­‰ï¼‰

**é©ç”¨ç« ç¯€**ï¼š

-   âœ… é–‹ç™¼ç†å¿µ
-   âœ… é–‹ç™¼æµç¨‹
-   âœ… ç¨‹å¼ç¢¼å“è³ªæ¨™æº–
-   âœ… ä¾è³´ç®¡ç†
-   âš ï¸ API é–‹ç™¼è¦ç¯„ï¼ˆè·³éï¼‰

**é¡å¤–é—œæ³¨**ï¼š

-   React/Next.js å…ƒä»¶é–‹ç™¼
-   éœæ…‹è³‡æ–™ç®¡ç†
-   å®¢æˆ¶ç«¯ç‹€æ…‹ç®¡ç†
-   CSS/Tailwind è¦ç¯„

### å…¨ç«¯å°ˆæ¡ˆï¼ˆNext.js with API Routesã€MERN Stack ç­‰ï¼‰

**é©ç”¨ç« ç¯€**ï¼š

-   âœ… æ‰€æœ‰ç« ç¯€

**é¡å¤–é—œæ³¨**ï¼š

-   API è·¯ç”±è¨­è¨ˆ
-   è³‡æ–™åº«æ•´åˆ
-   èªè­‰èˆ‡æˆæ¬Š
-   å‰å¾Œç«¯è³‡æ–™æµ

### ç´”å¾Œç«¯å°ˆæ¡ˆï¼ˆExpressã€Fastifyã€NestJS ç­‰ï¼‰

**é©ç”¨ç« ç¯€**ï¼š

-   âœ… é–‹ç™¼ç†å¿µ
-   âœ… API é–‹ç™¼è¦ç¯„
-   âœ… ç¨‹å¼ç¢¼å“è³ªæ¨™æº–
-   âœ… ä¾è³´ç®¡ç†
-   âš ï¸ å‰ç«¯ç›¸é—œï¼ˆè·³éï¼‰

**é¡å¤–é—œæ³¨**ï¼š

-   RESTful API è¨­è¨ˆ
-   è³‡æ–™åº«æœ€ä½³åŒ–
-   éŒ¯èª¤è™•ç†èˆ‡æ—¥èªŒ
-   å®‰å…¨æ€§èˆ‡é©—è­‰

---

## é–‹ç™¼æµç¨‹

### é–‹ç™¼å‰æª¢æŸ¥æ¸…å–®

å¯¦ä½œä»»ä½•åŠŸèƒ½å‰ï¼Œ**å¿…é ˆ**é©—è­‰ï¼š

#### âœ… å¿…é ˆæª¢æŸ¥

-   [ ] **åŸ·è¡Œæª¢æŸ¥æŒ‡ä»¤**ï¼š

    ```bash
    npm run type-check && npm run lint
    ```

-   [ ] **Code Reuse Check** - æœå°‹æ˜¯å¦æœ‰ç›¸ä¼¼åŠŸèƒ½å¯ä»¥é‡ç”¨ï¼š
    ```bash
    grep -r -E "(function|class|const)" src/
    ```
    æª¢æŸ¥å°ˆæ¡ˆçš„ `lib/`ã€`utils/`ã€`components/` ç›®éŒ„

#### ğŸ“‹ å»ºè­°æª¢æŸ¥ï¼ˆé‡å¤§è®Šæ›´æ™‚ï¼‰

-   [ ] **Dependency Assessment** - è©•ä¼°æ˜¯å¦éœ€è¦æ–°ä¾è³´

    -   ç¢ºèªä¸æœƒå¼•å…¥é‡è¤‡åŠŸèƒ½çš„å¥—ä»¶
    -   åŸ·è¡Œ `npm ls` ç¢ºèªä¸æœƒç”¢ç”Ÿä¾è³´è¡çª
    -   **è¨˜éŒ„ç‚ºä»€éº¼éœ€è¦æ­¤ä¾è³´**ï¼ˆåœ¨ commit message ä¸­ï¼‰

-   [ ] **Architecture Consistency** - ç¢ºèªéµå¾ªç¾æœ‰æ¨¡å¼

    -   éµå¾ªå°ˆæ¡ˆçš„ç›®éŒ„çµæ§‹
    -   ä½¿ç”¨å°ˆæ¡ˆæ—¢æœ‰çš„è¨­è¨ˆæ¨¡å¼
    -   å…ƒä»¶/å‡½æ•¸å‘½åéµå¾ªå°ˆæ¡ˆæ…£ä¾‹

-   [ ] **Performance Impact** - è©•ä¼°æ•ˆèƒ½å½±éŸ¿
    -   æ–°å¢åŠŸèƒ½ä¸æœƒé¡¯è‘—å¢åŠ å»ºç½®æ™‚é–“
    -   ä¸æœƒéåº¦å¢åŠ  bundle å¤§å°

### 1. è¦åŠƒèˆ‡éšæ®µåˆ†å‰²

å°‡è¤‡é›œå·¥ä½œåˆ†è§£ç‚º 3-5 å€‹éšæ®µï¼Œä½¿ç”¨ TodoWrite å·¥å…·è¿½è¹¤é€²åº¦ã€‚æ¯å€‹éšæ®µéƒ½è¦æœ‰æ˜ç¢ºçš„æˆåŠŸæ¨™æº–å’Œå¯æ¸¬è©¦çš„çµæœã€‚

### 2. å¯¦ä½œæµç¨‹

1. **ç†è§£** - ç ”ç©¶ç¨‹å¼ç¢¼åº«ä¸­çš„ç¾æœ‰æ¨¡å¼
2. **å¯¦ä½œ** - ç·¨å¯«åŠŸèƒ½ç¨‹å¼ç¢¼
3. **æ¸¬è©¦** - æ ¹æ“šæƒ…æ³ç·¨å¯«æˆ–æ›´æ–°æ¸¬è©¦ï¼ˆæ–°åŠŸèƒ½å»ºè­°æœ‰æ¸¬è©¦ã€ä¿®å¾©å»ºè­°æœ‰æ¸¬è©¦ã€é‡æ§‹å¯é¸ï¼‰
4. **é‡æ§‹** - åœ¨æ¸¬è©¦é€šéçš„æƒ…æ³ä¸‹æ¸…ç†
5. **æäº¤** - ä½¿ç”¨æ¸…æ™°çš„è¨Šæ¯è§£é‡‹ã€Œç‚ºä»€éº¼ã€

### 3. é‡åˆ°å›°é›£æ™‚ï¼ˆå˜—è©¦ 3 æ¬¡å¾Œï¼‰

**é‡è¦**ï¼šæ¯å€‹å•é¡Œæœ€å¤šå˜—è©¦ 3 æ¬¡ï¼Œç„¶å¾Œåœæ­¢ã€‚

1. **è¨˜éŒ„å¤±æ•—åŸå› **ï¼šä½ å˜—è©¦äº†ä»€éº¼ã€å…·é«”çš„éŒ¯èª¤è¨Šæ¯ã€ä½ èªç‚ºç‚ºä»€éº¼å¤±æ•—
2. **ç ”ç©¶æ›¿ä»£æ–¹æ¡ˆ**ï¼šæ‰¾åˆ° 2-3 å€‹é¡ä¼¼çš„å¯¦ä½œã€è¨˜éŒ„ä½¿ç”¨çš„ä¸åŒæ–¹æ³•
3. **è³ªç–‘åŸºæœ¬åŸå‰‡**ï¼šé€™æ˜¯å¦æ­£ç¢ºçš„æŠ½è±¡å±¤ç´šï¼Ÿèƒ½å¦å°‡å…¶åˆ†è§£ç‚ºæ›´å°çš„å•é¡Œï¼Ÿæ˜¯å¦æœ‰æ›´ç°¡å–®çš„æ–¹æ³•ï¼Ÿ
4. **å˜—è©¦ä¸åŒè§’åº¦**ï¼šä¸åŒçš„å‡½å¼åº«/æ¡†æ¶åŠŸèƒ½ï¼Ÿä¸åŒçš„æ¶æ§‹æ¨¡å¼ï¼Ÿç§»é™¤æŠ½è±¡è€Œä¸æ˜¯æ·»åŠ ï¼Ÿ

---

## ç¨‹å¼ç¢¼å“è³ªæ¨™æº–

### æ¶æ§‹åŸå‰‡

-   **çµ„åˆå„ªæ–¼ç¹¼æ‰¿** - ä½¿ç”¨ä¾è³´æ³¨å…¥
-   **ä»‹é¢å„ªæ–¼å–®ä¾‹æ¨¡å¼** - å•Ÿç”¨æ¸¬è©¦å’Œéˆæ´»æ€§
-   **æ˜ç¢ºå„ªæ–¼éš±å«** - æ¸…æ™°çš„è³‡æ–™æµå’Œä¾è³´é—œä¿‚
-   **é‡è¦–æ¸¬è©¦** - æ°¸ä¸åœç”¨æ¸¬è©¦ï¼Œä¿®å¾©å®ƒå€‘

### ç¨‹å¼ç¢¼å“è³ªæŒ‡æ¨™

**å»ºè­°æ¨™æº–**ï¼ˆå¯æ ¹æ“šå°ˆæ¡ˆèª¿æ•´ï¼‰ï¼š

-   **å‡½æ•¸é•·åº¦**ï¼š< 30 è¡Œï¼ˆè¤‡é›œé‚è¼¯å¯ä¾‹å¤–ï¼‰
-   **å…ƒä»¶é•·åº¦**ï¼š< 200 è¡Œ
-   **å‡½æ•¸åƒæ•¸**ï¼š< 5 å€‹ï¼ˆè¶…éè€ƒæ…®ä½¿ç”¨ç‰©ä»¶åƒæ•¸ï¼‰
-   **Props æ•¸é‡**ï¼š< 7 å€‹ï¼ˆè¶…éè€ƒæ…®æ‹†åˆ†å…ƒä»¶ï¼‰
-   **å·¢ç‹€å±¤æ•¸**ï¼š< 3 å±¤
-   **é‡è¤‡é‚è¼¯**ï¼šå‡ºç¾ 3+ æ¬¡æ‡‰æŠ½å–ç‚ºå…±ç”¨å‡½æ•¸

**æ¯æ¬¡æäº¤å¿…é ˆ**ï¼š

-   ç·¨è­¯æˆåŠŸï¼ˆ`npm run build`ï¼‰
-   é€šéæ‰€æœ‰ç¾æœ‰æ¸¬è©¦
-   é€šé TypeScript é¡å‹æª¢æŸ¥
-   é€šé ESLint æª¢æŸ¥
-   éµå¾ªå°ˆæ¡ˆæ ¼å¼åŒ–è¦ç¯„

### ä¾è³´ç®¡ç†

#### æ–°å¢ä¾è³´å‰å¿…é ˆåŸ·è¡Œ

```bash
# 1. æª¢æŸ¥ç¾æœ‰ç›¸ä¼¼åŠŸèƒ½
grep -r "import.*from.*package-name" src/
npm ls | grep similar-functionality

# 2. è©•ä¼°å¥—ä»¶å¥åº·åº¦
npm info package-name
npm audit

# 3. æª¢æŸ¥æœªä½¿ç”¨ä¾è³´
npx depcheck
```

#### ä¾è³´ç®¡ç†åŸå‰‡

-   **é¿å…**ï¼šå®‰è£åŠŸèƒ½é‡è¤‡çš„å¥—ä»¶ï¼ˆå¦‚å·²æœ‰ lodash ä¸è¦åŠ  ramdaï¼‰
-   **è¬¹æ…**ï¼šå®‰è£è¶…é 1 å¹´æœªæ›´æ–°çš„å¥—ä»¶ï¼ˆé™¤éæ˜¯ç©©å®šåº«ï¼‰
-   **è©•ä¼°**ï¼šå¢åŠ  bundle éå¤§çš„å¥—ä»¶å½±éŸ¿
    -   å°å‹å°ˆæ¡ˆï¼šå–®ä¸€å¥—ä»¶ > 50KB éœ€è¬¹æ…
    -   ä¸­å‹å°ˆæ¡ˆï¼šå–®ä¸€å¥—ä»¶ > 100KB éœ€è¬¹æ…
    -   å¤§å‹å°ˆæ¡ˆï¼šå–®ä¸€å¥—ä»¶ > 200KB éœ€è¬¹æ…
-   **å¿…é ˆ**ï¼šåœ¨ commit message èªªæ˜ç‚ºä»€éº¼éœ€è¦æ–°ä¾è³´

### æŠ€è¡“å‚µç®¡ç†

**æŠ€è¡“å‚µä¿¡è™Ÿ**ï¼š

-   ğŸ”´ å»ºç½®æ™‚é–“é¡¯è‘—å¢åŠ 
-   ğŸ”´ TypeScript/ESLint éŒ¯èª¤æˆ–è­¦å‘Šæ•¸é‡å¢åŠ 
-   ğŸ”´ ç›¸ä¼¼åŠŸèƒ½åœ¨å¤šè™•é‡è¤‡å¯¦ä½œ
-   ğŸ”´ ä¾è³´å¥—ä»¶ç‰ˆæœ¬éèˆŠæˆ–æœ‰å®‰å…¨æ¼æ´

**é‡åˆ°æŠ€è¡“å‚µä¿¡è™Ÿæ™‚**ï¼š

1. **è¨˜éŒ„å•é¡Œ** - ä½¿ç”¨ TODO è¨»é‡‹å’Œ DEBT æ¨™ç±¤
2. **è€ƒæ…®é‡æ§‹** - è€Œä¸æ˜¯å¢åŠ å•é¡Œ
3. **åƒè€ƒç¾æœ‰å¯¦ä½œ** - å°‹æ‰¾é¡ä¼¼çš„æ¨¡å¼

### æ¸¬è©¦æŒ‡å—

**æ¸¬è©¦ç­–ç•¥**ï¼ˆæ ¹æ“šå°ˆæ¡ˆé¡å‹èª¿æ•´ï¼‰ï¼š

-   **ç´”å‰ç«¯å°ˆæ¡ˆ**ï¼šE2E æ¸¬è©¦ç‚ºä¸»ï¼Œé‡è¦é‚è¼¯å¯åŠ å–®å…ƒæ¸¬è©¦
-   **API å°ˆæ¡ˆ**ï¼šå–®å…ƒæ¸¬è©¦ + æ•´åˆæ¸¬è©¦å¿…é ˆ
-   **å…¨ç«¯å°ˆæ¡ˆ**ï¼šE2E + å–®å…ƒæ¸¬è©¦ + API æ¸¬è©¦

**æ¸¬è©¦åŸå‰‡**ï¼š

-   æ¸¬è©¦è¡Œç‚ºè€Œéå¯¦ä½œ
-   æ¸…æ™°çš„æ¸¬è©¦åç¨±æè¿°å ´æ™¯
-   æ¸¬è©¦æ‡‰è©²æ˜¯ç¢ºå®šæ€§çš„ï¼ˆä¸å—å¤–éƒ¨å› ç´ å½±éŸ¿ï¼‰
-   ä½¿ç”¨ç¾æœ‰çš„æ¸¬è©¦å·¥å…·/åŠ©æ‰‹

---

## ğŸ¨ UI/UX è¨­è¨ˆè¦ç¯„

### è¦–è¦ºè¨­è¨ˆåŸå‰‡

1. **ç¦æ­¢ä½¿ç”¨æ¼¸å±¤**

    - âŒ `bg-gradient-to-r from-blue-500 to-purple-600`
    - âœ… `bg-blue-500`
    - ç†ç”±ï¼šä¿æŒè¦–è¦ºç°¡æ½”ã€æå‡æ•ˆèƒ½ã€æ˜“æ–¼ç¶­è­·

2. **UI ç¨‹å¼ç¢¼ä¸­ç¦æ­¢ä½¿ç”¨ Emoji**

    - âŒ UI ç¨‹å¼ç¢¼ï¼š`ğŸ¯` `âœ…` `âŒ` `ğŸ“Š` `ğŸ”`
    - âœ… ä½¿ç”¨ SVG åœ–ç¤ºæ›¿ä»£
    - â„¹ï¸ æ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨ Emoji ä»¥æå‡å¯è®€æ€§
    - ç†ç”±ï¼šemoji åœ¨ä¸åŒå¹³å°é¡¯ç¤ºä¸ä¸€è‡´ã€ç„¡æ³•ç²¾ç¢ºæ§åˆ¶æ¨£å¼ã€å½±éŸ¿ç„¡éšœç¤™é«”é©—

3. **ä½¿ç”¨ SVG åœ–ç¤º**

    - ä½¿ç”¨ inline SVG æˆ–åœ–ç¤ºåº«ï¼ˆ**ä½¿ç”¨ lucide-react**ï¼‰
    - ç¢ºä¿ SVG æ”¯æ´æ·±è‰²æ¨¡å¼ï¼ˆä½¿ç”¨ `currentColor`ï¼‰
    - æä¾›é©ç•¶çš„ `aria-label` ä»¥æ”¯æ´ç„¡éšœç¤™
    - SVG æ‡‰å…·æœ‰é©ç•¶çš„å°ºå¯¸é¡åˆ¥ï¼ˆå¦‚ `w-6 h-6`ï¼‰

    ```typescript
    // âœ… æ­£ç¢ºï¼šä½¿ç”¨ lucide-react
    import { Check, X, Search } from 'lucide-react'

    <Check className="w-5 h-5 text-green-600" />
    <X className="w-5 h-5 text-red-600" />
    <Search className="w-5 h-5" />
    ```

**ç¯„ä¾‹**ï¼š

```tsx
// âŒ éŒ¯èª¤ï¼šUI ç¨‹å¼ç¢¼ä¸­ä½¿ç”¨ emoji
<div>{isSuccess ? "âœ…" : "âŒ"} æ“ä½œçµæœ</div>;

// âœ… æ­£ç¢ºï¼šä½¿ç”¨ SVG åœ–ç¤º
import { Check, X } from "lucide-react";
<div className="flex items-center gap-2">
	{isSuccess ? (
		<Check className="w-5 h-5 text-green-600 dark:text-green-400" />
	) : (
		<X className="w-5 h-5 text-red-600 dark:text-red-400" />
	)}
	<span>æ“ä½œçµæœ</span>
</div>;
```

---

## æ±ºç­–èˆ‡å­¸ç¿’

### æ±ºç­–æ¡†æ¶

ç•¶å­˜åœ¨å¤šç¨®æœ‰æ•ˆæ–¹æ³•æ™‚ï¼Œæ ¹æ“šä»¥ä¸‹åŸå‰‡é¸æ“‡ï¼š

1. **å¯æ¸¬è©¦æ€§** - æˆ‘èƒ½è¼•æ˜“æ¸¬è©¦é€™å€‹å—ï¼Ÿ
2. **å¯è®€æ€§** - 6 å€‹æœˆå¾Œæœ‰äººèƒ½ç†è§£é€™å€‹å—ï¼Ÿ
3. **ä¸€è‡´æ€§** - é€™æ˜¯å¦ç¬¦åˆå°ˆæ¡ˆæ¨¡å¼ï¼Ÿ
4. **ç°¡æ½”æ€§** - é€™æ˜¯å¦æœ€ç°¡å–®å¯è¡Œçš„è§£æ±ºæ–¹æ¡ˆï¼Ÿ
5. **å¯é€†æ€§** - å¾ŒçºŒæ›´æ”¹æœ‰å¤šå›°é›£ï¼Ÿ
6. **æŠ€è¡“å‚µå½±éŸ¿** - é€™æœƒåœ¨å¾ŒçºŒç”¢ç”ŸæŠ€è¡“å‚µå—ï¼Ÿ

### å­¸ç¿’ç¨‹å¼ç¢¼åº«

é€²å…¥æ–°å°ˆæ¡ˆæˆ–å¯¦ä½œæ–°åŠŸèƒ½å‰ï¼š

-   æ‰¾åˆ° 3 å€‹é¡ä¼¼çš„åŠŸèƒ½/å…ƒä»¶
-   è­˜åˆ¥å¸¸è¦‹æ¨¡å¼å’Œæ…£ä¾‹
-   ç›¡å¯èƒ½ä½¿ç”¨ç›¸åŒçš„å‡½å¼åº«/å·¥å…·
-   éµå¾ªç¾æœ‰çš„æ¸¬è©¦æ¨¡å¼
-   ä¸è¦åœ¨æ²’æœ‰å¼·çƒˆç†ç”±çš„æƒ…æ³ä¸‹å¼•å…¥æ–°å·¥å…·

---

## âœ… å“è³ªæª¢æŸ¥æ¸…å–®

### æäº¤å‰æª¢æŸ¥

**æ¯æ¬¡æäº¤å‰åŸ·è¡Œ**ï¼š

```bash
# 1. é¡å‹æª¢æŸ¥
npm run type-check

# 2. ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥
npm run lint

# 3. å»ºç½®é©—è­‰ï¼ˆé‡å¤§è®Šæ›´æ™‚ï¼‰
npm run build
```

**ç¢ºèªæ¸…å–®**ï¼š

-   [ ] TypeScript é¡å‹æª¢æŸ¥é€šé
-   [ ] ESLint æª¢æŸ¥é€šé
-   [ ] ç¨‹å¼ç¢¼éµå¾ªå°ˆæ¡ˆæ…£ä¾‹
-   [ ] æäº¤è¨Šæ¯æ¸…æ™°ï¼ˆè§£é‡‹ã€Œç‚ºä»€éº¼ã€è€Œéã€Œä»€éº¼ã€ï¼‰
-   [ ] ç„¡æœªè§£æ±ºçš„ TypeScript éŒ¯èª¤
-   [ ] ç„¡ console.log æˆ– debugger æ®˜ç•™

### æ¸¬è©¦è¦æ±‚ï¼ˆæ ¹æ“šå°ˆæ¡ˆèª¿æ•´ï¼‰

-   [ ] æ–°åŠŸèƒ½æœ‰å°æ‡‰æ¸¬è©¦ï¼ˆå»ºè­°ï¼‰
-   [ ] æ‰€æœ‰æ¸¬è©¦é€šé
-   [ ] æ¸¬è©¦è¦†è“‹ç‡ç¶­æŒæˆ–æå‡

### æ–‡æª”è¦æ±‚

-   [ ] è¤‡é›œé‚è¼¯æœ‰è¨»è§£èªªæ˜
-   [ ] å…¬é–‹ API æœ‰ JSDoc/TSDoc
-   [ ] README ä¿æŒæ›´æ–°ï¼ˆå¦‚æœ‰é‡å¤§è®Šæ›´ï¼‰

### æ•ˆèƒ½è¦æ±‚

-   [ ] å»ºç½®æ™‚é–“æ²’æœ‰é¡¯è‘—å¢åŠ 
-   [ ] Bundle å¤§å°åœ¨åˆç†ç¯„åœå…§
-   [ ] æ²’æœ‰æ˜é¡¯çš„æ•ˆèƒ½é€€åŒ–

### é‡å¤§è®Šæ›´ç¶­è­·

**åŸ·è¡Œé‡å¤§è®Šæ›´æ™‚**å»ºè­°æª¢æŸ¥ï¼š

```bash
# å¿«å–æ¸…ç†
rm -rf .next node_modules/.cache

# ä¾è³´æª¢æŸ¥
npx depcheck
npm audit

# Bundle å¤§å°æª¢æŸ¥
npm run build
# æª¢æŸ¥å»ºç½®è¼¸å‡ºçš„æª”æ¡ˆå¤§å°
```

---

## ğŸ“š åƒè€ƒè³‡æº

### æ¨è–¦å·¥å…·

-   **TypeScript**: éœæ…‹é¡å‹æª¢æŸ¥
-   **ESLint**: ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥
-   **Prettier**: ç¨‹å¼ç¢¼æ ¼å¼åŒ–
-   **Husky**: Git hooks ç®¡ç†
-   **depcheck**: æª¢æŸ¥æœªä½¿ç”¨ä¾è³´
-   **bundle-analyzer**: Bundle å¤§å°åˆ†æ

### å­¸ç¿’è³‡æº

-   TypeScript å®˜æ–¹æ–‡æª”: https://www.typescriptlang.org/docs/
-   Next.js å®˜æ–¹æ–‡æª”: https://nextjs.org/docs
-   React å®˜æ–¹æ–‡æª”: https://react.dev/
-   Node.js æœ€ä½³å¯¦è¸: https://github.com/goldbergyoni/nodebestpractices

---

## é™„éŒ„

### é™„éŒ„ A - æ–°å°ˆæ¡ˆåˆå§‹åŒ–æª¢æŸ¥æ¸…å–®

> æœ¬ç« ç¯€é©ç”¨æ–¼æ–°å°ˆæ¡ˆåˆå§‹åŒ–éšæ®µ

#### 1. ç¢ºèªå°ˆæ¡ˆé¡å‹

-   [ ] ç´”å‰ç«¯ / å…¨ç«¯ / ç´”å¾Œç«¯
-   [ ] é¸æ“‡çš„æŠ€è¡“æ£§ï¼ˆReact/Vue/Next.js/Express ç­‰ï¼‰

#### 2. åŸºç¤è¨­å®š

-   [ ] è¨­å®š TypeScript (`tsconfig.json`)
-   [ ] è¨­å®š ESLint (`.eslintrc` æˆ– `eslint.config.js`)
-   [ ] è¨­å®š Prettier (`.prettierrc`)
-   [ ] å»ºç«‹ `.gitignore`
-   [ ] åˆå§‹åŒ– Git repository

#### 3. é–‹ç™¼å·¥å…·

-   [ ] è¨­å®š Git hooksï¼ˆå¦‚ huskyï¼‰
-   [ ] é…ç½® pre-commit æª¢æŸ¥ï¼ˆtype-check + lintï¼‰
-   [ ] è¨­å®š CI/CDï¼ˆå¦‚éœ€è¦ï¼‰

#### 4. å°ˆæ¡ˆç‰¹å®šè¨­å®š

**å‰ç«¯å°ˆæ¡ˆ**ï¼š

-   [ ] è¨­å®šå…ƒä»¶ç›®éŒ„çµæ§‹ (`components/`, `pages/`, `app/`)
-   [ ] é¸æ“‡ç‹€æ…‹ç®¡ç†æ–¹æ¡ˆï¼ˆContext API/Redux/Zustandï¼‰
-   [ ] è¨­å®š CSS æ–¹æ¡ˆï¼ˆTailwind/CSS Modules/Styled-componentsï¼‰

**API å°ˆæ¡ˆ**ï¼š

-   [ ] è¨­å®šçµ±ä¸€éŒ¯èª¤è™•ç†ï¼ˆåƒè€ƒé™„éŒ„ Bï¼‰
-   [ ] è¨­å®šæ—¥èªŒç³»çµ±ï¼ˆwinston/pinoï¼‰
-   [ ] è¨­å®šä¸­é–“ä»¶æ¶æ§‹
-   [ ] è¨­å®šç’°å¢ƒè®Šæ•¸ç®¡ç†ï¼ˆdotenvï¼‰
-   [ ] è¨­å®šè³‡æ–™åº«é€£æ¥

**å…¨ç«¯å°ˆæ¡ˆ**ï¼š

-   [ ] è¨­å®šå‰ç«¯å’Œå¾Œç«¯çš„æ‰€æœ‰é …ç›®
-   [ ] ç¢ºä¿å‰å¾Œç«¯çš„ç¨‹å¼ç¢¼å“è³ªæ¨™æº–ä¸€è‡´

#### 5. æ–‡æª”è¨­å®š

-   [ ] è¤‡è£½æ­¤ `CLAUDE.md` åˆ°å°ˆæ¡ˆ
-   [ ] æ ¹æ“šå°ˆæ¡ˆé¡å‹èª¿æ•´ç›¸é—œç« ç¯€
-   [ ] å»ºç«‹ `README.md`ï¼ˆå°ˆæ¡ˆèªªæ˜ã€å®‰è£ã€å•Ÿå‹•ï¼‰
-   [ ] å»ºç«‹ `.env.example`ï¼ˆç’°å¢ƒè®Šæ•¸ç¯„ä¾‹ï¼‰

---

### é™„éŒ„ B - API é–‹ç™¼è¦ç¯„

> **é©ç”¨æƒ…å¢ƒ**ï¼šå°ˆæ¡ˆåŒ…å« API è·¯ç”±æˆ–å¾Œç«¯æœå‹™

#### ä½•æ™‚ä½¿ç”¨æ­¤ç« ç¯€

**âœ… é©ç”¨æ–¼**ï¼š

-   Next.js App Router with API Routes
-   Express/Fastify/NestJS å¾Œç«¯å°ˆæ¡ˆ
-   å…¨ç«¯æ‡‰ç”¨çš„å¾Œç«¯éƒ¨åˆ†

**âš ï¸ ä¸é©ç”¨æ–¼**ï¼š

-   ç´”å‰ç«¯å°ˆæ¡ˆï¼ˆç„¡å¾Œç«¯ APIï¼‰
-   ä½¿ç”¨ç¬¬ä¸‰æ–¹ API çš„å°ˆæ¡ˆï¼ˆåƒ…æ¶ˆè²» APIï¼Œä¸æä¾› APIï¼‰

#### Error Handling

**å¦‚æœå°ˆæ¡ˆå°šæœªå»ºç«‹éŒ¯èª¤è™•ç†ç³»çµ±**ï¼Œè€ƒæ…®ä»¥ä¸‹åƒè€ƒå¯¦ä½œï¼š

##### åƒè€ƒå¯¦ä½œï¼šçµ±ä¸€éŒ¯èª¤é¡åˆ¥

```typescript
// lib/errors.ts
export class ApiError extends Error {
	constructor(
		public statusCode: number,
		message: string,
		public code?: string
	) {
		super(message);
		this.name = "ApiError";
	}
}

export class ValidationError extends ApiError {
	constructor(message: string) {
		super(400, message, "VALIDATION_ERROR");
	}
}

export class AuthorizationError extends ApiError {
	constructor(message: string = "æ¬Šé™ä¸è¶³") {
		super(403, message, "AUTHORIZATION_ERROR");
	}
}

export class NotFoundError extends ApiError {
	constructor(resource: string) {
		super(404, `${resource} ä¸å­˜åœ¨`, "NOT_FOUND");
	}
}
```

##### åƒè€ƒå¯¦ä½œï¼šéŒ¯èª¤è™•ç†ä¸­é–“ä»¶

```typescript
// lib/middleware/error-handler.ts
export function withErrorHandler<T>(
	handler: (req: Request, ...args: any[]) => Promise<Response>,
	options?: { module?: string }
) {
	return async (req: Request, ...args: any[]): Promise<Response> => {
		try {
			return await handler(req, ...args);
		} catch (error) {
			// è¨˜éŒ„éŒ¯èª¤ï¼ˆå¦‚æœå°ˆæ¡ˆæœ‰ loggerï¼‰
			console.error(`[${options?.module || "API"}] Error:`, error);

			if (error instanceof ApiError) {
				return Response.json(
					{ error: error.message, code: error.code },
					{ status: error.statusCode }
				);
			}

			// æœªçŸ¥éŒ¯èª¤
			return Response.json({ error: "ä¼ºæœå™¨éŒ¯èª¤" }, { status: 500 });
		}
	};
}
```

##### ä½¿ç”¨ç¯„ä¾‹

```typescript
// app/api/users/route.ts
import { withErrorHandler } from "@/lib/middleware/error-handler";
import { NotFoundError, ValidationError } from "@/lib/errors";

async function handleGET(req: Request) {
	const { searchParams } = new URL(req.url);
	const id = searchParams.get("id");

	if (!id) {
		throw new ValidationError("ç¼ºå°‘ id åƒæ•¸");
	}

	const user = await db.users.findUnique({ where: { id } });

	if (!user) {
		throw new NotFoundError("ä½¿ç”¨è€…");
	}

	return Response.json(user);
}

export const GET = withErrorHandler(handleGET, { module: "UserAPI" });
```

**å¦‚æœå°ˆæ¡ˆå·²æœ‰éŒ¯èª¤è™•ç†ç³»çµ±**ï¼š

-   éµå¾ªç¾æœ‰çš„éŒ¯èª¤è™•ç†æ¨¡å¼
-   ä½¿ç”¨å°ˆæ¡ˆæ—¢æœ‰çš„éŒ¯èª¤é¡åˆ¥
-   ä¸è¦å¼•å…¥æ–°çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶

#### API ä¸­é–“ä»¶æ¨¡å¼

**åƒè€ƒå¯¦ä½œ**ï¼šèªè­‰ä¸­é–“ä»¶

```typescript
// lib/middleware/auth.ts
export function requireAuth<T>(
	handler: (req: Request, user: User) => Promise<Response>
) {
	return async (req: Request): Promise<Response> => {
		const token = req.headers.get("authorization")?.replace("Bearer ", "");

		if (!token) {
			return Response.json({ error: "æœªæä¾›èªè­‰" }, { status: 401 });
		}

		try {
			const user = await verifyToken(token);
			return await handler(req, user);
		} catch {
			return Response.json({ error: "ç„¡æ•ˆçš„èªè­‰" }, { status: 401 });
		}
	};
}

// çµ„åˆå¤šå€‹ä¸­é–“ä»¶
export function withAuthAndError<T>(
	handler: (req: Request, user: User) => Promise<Response>,
	options?: { module?: string }
) {
	return withErrorHandler(requireAuth(handler), options);
}
```

#### Next.js 15+ å‹•æ…‹è·¯ç”±åƒæ•¸

**é‡è¦**ï¼šNext.js 15+ ä¸­ï¼Œå‹•æ…‹è·¯ç”±åƒæ•¸æ˜¯ Promiseï¼Œå¿…é ˆ awaitï¼š

```typescript
// âœ… æ­£ç¢ºï¼šawait params Promise
async function handleGET(
	request: Request,
	context: { params: Promise<{ id: string }> }
) {
	const { id } = await context.params; // å¿…é ˆ await
	const data = await service.findById(id);
	return Response.json(data);
}

// âŒ éŒ¯èª¤ï¼šç›´æ¥ä½¿ç”¨ params
async function handleGET(
	request: Request,
	context: { params: { id: string } } // é¡å‹éŒ¯èª¤
) {
	const { id } = context.params; // åŸ·è¡Œæ™‚éŒ¯èª¤
}
```

#### API é–‹ç™¼å®Œæˆæª¢æŸ¥æ¸…å–®

-   [ ] ä½¿ç”¨çµ±ä¸€çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
-   [ ] æ‰€æœ‰éŒ¯èª¤éƒ½æœ‰é©ç•¶çš„ç‹€æ…‹ç¢¼å’Œè¨Šæ¯
-   [ ] å‹•æ…‹è·¯ç”±åƒæ•¸æ­£ç¢ºä½¿ç”¨ await (Next.js 15+)
-   [ ] å›æ‡‰ä½¿ç”¨ä¸€è‡´çš„æ ¼å¼
-   [ ] TypeScript é¡å‹æª¢æŸ¥é€šé
-   [ ] è™•ç†ä¸æ”¯æ´çš„ HTTP æ–¹æ³•
-   [ ] API æœ‰é©ç•¶çš„é©—è­‰å’Œæˆæ¬Š

---

### é™„éŒ„ C - ç¶­è­·ä»»å‹™

> æœ¬ç« ç¯€é©ç”¨æ–¼å°ˆæ¡ˆé€²å…¥ç¶­è­·éšæ®µ

#### å®šæœŸç¶­è­·æª¢æŸ¥ï¼ˆå»ºè­°æ¯æœˆåŸ·è¡Œï¼‰

```bash
# 1. æ¸…ç†å»ºç½®å¿«å–
rm -rf .next node_modules/.cache dist

# 2. æª¢æŸ¥æœªä½¿ç”¨çš„ä¾è³´
npx depcheck

# 3. æª¢æŸ¥ä¾è³´å®‰å…¨æ€§
npm audit
# ä¿®å¾©é«˜å±æ¼æ´
npm audit fix

# 4. æª¢æŸ¥éæ™‚çš„ä¾è³´
npm outdated

# 5. é©—è­‰å»ºç½®
npm run build

# 6. æª¢æŸ¥ TODO è¨»è§£
grep -r "TODO" src/ --include="*.ts" --include="*.tsx"
```

#### ç‰ˆæœ¬ç™¼å¸ƒå‰æª¢æŸ¥

-   [ ] æ‰€æœ‰æ¸¬è©¦é€šé
-   [ ] æ²’æœ‰å·²çŸ¥çš„ Critical/High å®‰å…¨æ¼æ´
-   [ ] ä¾è³´å¥—ä»¶ç‰ˆæœ¬åˆç†ï¼ˆä¸è¦å¤ªèˆŠï¼‰
-   [ ] å»ºç½®æˆåŠŸä¸”ç„¡è­¦å‘Š
-   [ ] æ•ˆèƒ½æŒ‡æ¨™ç¬¦åˆé æœŸ
-   [ ] æ–‡æª”æ›´æ–°ï¼ˆREADMEã€CHANGELOGï¼‰

---

### é™„éŒ„ D - TodoWrite è©³ç´°ç¯„ä¾‹

> æœ¬ç« ç¯€æä¾› TodoWrite çš„è©³ç´°ä½¿ç”¨ç¯„ä¾‹èˆ‡èªªæ˜

#### åŸºæœ¬åŸå‰‡

å°‡è¤‡é›œå·¥ä½œåˆ†è§£ç‚º 3-5 å€‹éšæ®µï¼Œä½¿ç”¨ TodoWrite å·¥å…·è¿½è¹¤é€²åº¦ï¼š

```typescript
TodoWrite({
	todos: [
		{
			content: "éšæ®µ 1: [å…·é«”ç›®æ¨™]",
			status: "pending",
			activeForm: "åŸ·è¡Œéšæ®µ 1ä¸­",
		},
		{
			content: "éšæ®µ 2: [å…·é«”ç›®æ¨™]",
			status: "pending",
			activeForm: "åŸ·è¡Œéšæ®µ 2ä¸­",
		},
	],
});
```

#### ç‹€æ…‹ç®¡ç†è¦å‰‡

1. **ç‹€æ…‹è½‰æ›é †åº**ï¼š

    - pending (å¾…è™•ç†) â†’ in_progress (é€²è¡Œä¸­) â†’ completed (å·²å®Œæˆ)
    - æ°¸ä¸è·³é in_progress ç›´æ¥æ¨™è¨˜ç‚º completed

2. **ä¸€æ¬¡åªæœ‰ä¸€å€‹ in_progress**ï¼š

    - åŒä¸€æ™‚é–“åªèƒ½æœ‰ä¸€å€‹ä»»å‹™ç‹€æ…‹ç‚º `in_progress`
    - é–‹å§‹æ–°ä»»å‹™å‰å¿…é ˆå…ˆå®Œæˆç•¶å‰ä»»å‹™

3. **ç«‹å³æ›´æ–°åŸå‰‡**ï¼š

    - âœ… é–‹å§‹ä»»å‹™æ™‚ï¼š**ç«‹å³**æ¨™è¨˜ç‚º `in_progress`
    - âœ… å®Œæˆä»»å‹™å¾Œï¼š**ç«‹å³**æ¨™è¨˜ç‚º `completed`
    - âŒ ä¸è¦æ‰¹é‡è™•ç†å¤šå€‹ä»»å‹™çš„ç‹€æ…‹æ›´æ–°

4. **ä»»å‹™æè¿°æ ¼å¼**ï¼š

    - `content`: å‘½ä»¤å¼ï¼ˆä¾‹ï¼šã€Œå»ºç«‹ API ç›®éŒ„çµæ§‹ã€ï¼‰
    - `activeForm`: ç¾åœ¨é€²è¡Œå¼ï¼ˆä¾‹ï¼šã€Œå»ºç«‹ API ç›®éŒ„çµæ§‹ä¸­ã€ï¼‰

5. **å®Œæˆæ¢ä»¶è¦æ±‚**ï¼š
    - **åƒ…ç•¶ä»»å‹™å®Œå…¨å®Œæˆæ™‚**æ‰æ¨™è¨˜ç‚º `completed`
    - å¦‚æœé‡åˆ°éŒ¯èª¤æˆ–é˜»å¡ï¼Œä¿æŒ `in_progress`
    - æ°¸ä¸æ¨™è¨˜æœªå®Œæˆçš„ä»»å‹™ç‚º `completed`

**ä½•æ™‚ä¸æ¨™è¨˜ç‚º completed**ï¼š

-   æ¸¬è©¦å¤±æ•—æ™‚
-   å¯¦ä½œéƒ¨åˆ†å®Œæˆæ™‚
-   é‡åˆ°æœªè§£æ±ºçš„éŒ¯èª¤æ™‚
-   æ‰¾ä¸åˆ°å¿…è¦æª”æ¡ˆæˆ–ä¾è³´æ™‚
-   è¢«é˜»å¡ç„¡æ³•ç¹¼çºŒæ™‚

#### å®Œæ•´ä½¿ç”¨ç¯„ä¾‹

```typescript
// é–‹å§‹å·¥ä½œï¼šå»ºç«‹ todo åˆ—è¡¨
TodoWrite({
	todos: [
		{
			content: "éšæ®µ 1: ç ”ç©¶ç¾æœ‰å…ƒä»¶æ¨¡å¼",
			status: "in_progress",
			activeForm: "ç ”ç©¶ç¾æœ‰å…ƒä»¶æ¨¡å¼ä¸­",
		},
		{
			content: "éšæ®µ 2: å¯¦ä½œæ ¸å¿ƒåŠŸèƒ½",
			status: "pending",
			activeForm: "å¯¦ä½œæ ¸å¿ƒåŠŸèƒ½ä¸­",
		},
		{
			content: "éšæ®µ 3: æ’°å¯«æ¸¬è©¦",
			status: "pending",
			activeForm: "æ’°å¯«æ¸¬è©¦ä¸­",
		},
		{
			content: "éšæ®µ 4: ç¨‹å¼ç¢¼é‡æ§‹èˆ‡å„ªåŒ–",
			status: "pending",
			activeForm: "ç¨‹å¼ç¢¼é‡æ§‹èˆ‡å„ªåŒ–ä¸­",
		},
	],
});

// å®Œæˆéšæ®µ 1ï¼Œé–‹å§‹éšæ®µ 2
TodoWrite({
	todos: [
		{
			content: "éšæ®µ 1: ç ”ç©¶ç¾æœ‰å…ƒä»¶æ¨¡å¼",
			status: "completed",
			activeForm: "ç ”ç©¶ç¾æœ‰å…ƒä»¶æ¨¡å¼ä¸­",
		},
		{
			content: "éšæ®µ 2: å¯¦ä½œæ ¸å¿ƒåŠŸèƒ½",
			status: "in_progress",
			activeForm: "å¯¦ä½œæ ¸å¿ƒåŠŸèƒ½ä¸­",
		},
		{
			content: "éšæ®µ 3: æ’°å¯«æ¸¬è©¦",
			status: "pending",
			activeForm: "æ’°å¯«æ¸¬è©¦ä¸­",
		},
		{
			content: "éšæ®µ 4: ç¨‹å¼ç¢¼é‡æ§‹èˆ‡å„ªåŒ–",
			status: "pending",
			activeForm: "ç¨‹å¼ç¢¼é‡æ§‹èˆ‡å„ªåŒ–ä¸­",
		},
	],
});

// ä¾æ­¤é¡æ¨ï¼Œç›´åˆ°æ‰€æœ‰ä»»å‹™å®Œæˆ
```

---

**è¨˜ä½**: é€™ä»½æ–‡æª”æ˜¯æŒ‡å—ï¼Œä¸æ˜¯æ•™æ¢ã€‚æ ¹æ“šå°ˆæ¡ˆå¯¦éš›æƒ…æ³éˆæ´»èª¿æ•´ï¼Œä½†å§‹çµ‚ä¿æŒæ ¸å¿ƒåŸå‰‡ï¼š**ç°¡æ½”ã€å¯æ¸¬è©¦ã€å¯ç¶­è­·**ã€‚
